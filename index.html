<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>-->

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="Student.js"></script>
</head>
<style>
    .image {
        display: flex;

    }

    .img-items {
        margin: 16px;
        border: 1px solid #cccc;
        padding: 2%;
    }

    .img {
        height: 250px;
        width: 300px;
    }
</style>
<body style=" background-image: url('img/home/anh10.jpg');background-size: 2000px 1000px">
<nav class="navbar navbar-expand-lg navbar-light"
     style=" backdrop-filter: blur(8px);background-color: #cebad0; height: 70px; background-image: url('img/home/anh20.jpg')">
    <div class="container-fluid">
        <a class="navbar-brand; btn btn-danger" href="#">DU HỌC MEIJI</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a id="register" class="nav-link active" aria-current="page" href="form-login/register.html">ĐĂNG
                        KÝ</a>
                </li>
                <li class="nav-item">
                    <a id="login" class="nav-link" href="form-login/login.html">ĐĂNG NHẬP</a>
                </li>

                <li id="dropdown" class="btn btn-success nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="username" role="button" data-bs-toggle="dropdown"
                       aria-expanded="false">
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="#">Action</a></li>
                        <li><a class="dropdown-item" href="#">Another action</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a onclick="logOut()" class="dropdown-item" href="#">logOut</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div>
    <h1 style="text-align: center; color: yellow">DU HỌC MEIJI CHẮP CÁNH CHO NHỮNG ƯỚC MƠ</h1>
    <h1 style="text-align: center; color: yellow">KHÔNG NGỪNG MANG LẠI NHỮNG GIÁ TRỊ!</h1>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">New message</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="col-form-label">name</label>
                        <input type="text" class="form-control" id="update_name">
                    </div>
                    <div class="mb-3">
                        <label class="col-form-label">age</label>
                        <textarea class="form-control" id="update_age"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" onclick="updateStudent()" class="btn btn-primary" data-bs-dismiss="modal">Up
                </button>
            </div>
        </div>
    </div>
</div>
<!--home-->
<div id="myTable" style="width: 50%;" class="container">
    <div class="row">
        <div class="rounded col-12" style="background-color: #e3e1e5; text-align: center; margin: 20px 20px 20px 20px">
            <div class="input-group mb-3">
                <input id="name" type="text" class="form-control" placeholder="Name" aria-label="Recipient's username"
                       aria-describedby="basic-addon2">
                <span class="input-group-text">Name</span>
            </div>
            <div class="input-group mb-3">
                <input id="age" type="text" class="form-control" placeholder="Age" aria-label="Recipient's username"
                       aria-describedby="basic-addon2">
                <span class="input-group-text" id="basic-addon2">Age</span>
            </div>
            <button onclick="createStudent()" class="btn btn-success">Create Student</button>
            <table class="table">
                <tr class="table-primary">
                    <th>STT</th>
                    <th>NAME</th>
                    <th>AGE</th>
                    <th>EDIT</th>
                    <th>DELETE</th>
                </tr>
                <tbody id="drawTable"></tbody>

            </table>
        </div>
    </div>
</div>

<div class="container">
    <div class="image">
        <div class="img-items" style="width: 40%; height: 30%">
            <h4 style="color: #ffffff">Ký hợp đồng với đối tác chiến lược.</h4>
            <img class="img" src="img/home/anh1.jpg" alt="">
            <div style="color:#0c0206"><i>chiều qua 25/12 giám đốc đã có cuộc gặp gỡ với phía đối tác từ trường
                日本東京国際学院</i></div>
        </div>
        <div class="img-items" style="width: 40%; height: 30%">
            <h4 style="color: #ffffff">Học Sinh Tiếp Cận Với Nền Giáo Dục Hiện Đại Và Chất Lượng!</h4>
            <img class="img" src="img/home/anh2.jpg" alt="">
            <div style="color:#0c0206"><i>buổi lễ nhập học của du học sinh rất thành công cho một khởi đầu mới trước mắt.</i></div>
        </div>
        <div class="img-items" style="width: 40%; height: 30%">
            <h4 style="color: #ffffff">Giám Đốc Tận Tình Đưa Tiễn Các Em Học Sinh.</h4>
            <img class="img" src="img/home/anh3.jpg" alt="">
            <div style="color:#0c0206"><i>trước giờ bay đính thân giám đốc và các giáo viên đã có những lời căn dặn các em.</i></div>
        </div>

    </div>
    <div class="image">
        <div class="img-items" style="width: 40%; height: 30%">
            <h4 style="color: #ffffff">Gia Đình MEIJI Và Những Hoạt Động Ngoại Khoá!</h4>
            <img class="img" src="img/home/anh4.jpg" alt="">
            <div style="color:#0c0206"><i>những chuyến du lịch khám phá thường niên rất vui vẻ và thú vị đã giúp các em gắn kết hơn.</i></div>
        </div>
        <div class="img-items" style="width: 40%; height: 30%">
            <h4 style="color: #ffffff">Những Cuộc Thi Sắc Đẹp Của Gia Đình MEIJI!</h4>
            <img class="img" src="img/home/anh5.jpg" alt="">
            <div style="color:#0c0206"><i>ngoài tôn vinh những giá trị tinh thần còn giúp các em tự tin hơn cho những khởi đầu mới</i></div>
        </div>
        <div class="img-items" style="width: 40%; height: 30%">
            <h4 style="color: #ffffff">Những Lỗ Lực Đã Mang Đến Những Thành Công Đầu Tiên!</h4>
            <img class="img" src="img/home/anh6.jpg" alt="">
            <div style="color:#0c0206"><i>những học sinh ưu tú đã thi đỗ vào những trường đại học nổi tiếng của xứ hoa anh đào.</i></div>
        </div>
    </div>
</div>

<script>
    // let student1 = new Student(1, "cha beo", 20)
    // let student2 = new Student(2, "hung ", 19)
    // let listStudent = [];
    // listStudent.push(student1, student2)
    // console.log(listStudent)
    listStudent = JSON.parse(localStorage.getItem("list_student"))
    if (listStudent == null) {
        listStudent = [];
    }

    function showListStudent() {
        let drawTable = '';
        let classTR = "";
        for (let i = 0; i < listStudent.length; i++) {
            if (i % 2 == 0) {
                classTR = 'table-warning'
            } else {
                classTR = 'table-success'
            }
            drawTable += `<tr class="${classTR}">
<td>${i + 1}</td>
<td>${listStudent[i].name}</td>
<td>${listStudent[i].age}</td>
<td><button class="success" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="${listStudent[i].name}" onclick="showUpdateModal(${listStudent[i].id})"><i class="bi bi-pen-fill"></i></button></td>
<td><button onclick="delStudent(${listStudent[i].id})"><i class="bi bi-x-circle-fill"></i></button></td>
                          </tr>`

        }
        document.getElementById("drawTable").innerHTML = drawTable;
    }

    showListStudent()

    function createStudent() {
        let id = 0;
        let name = document.getElementById("name").value;
        let age = +document.getElementById("age").value;
        if (listStudent.length === 0) {
            id = 1;
        } else {
            id = listStudent[listStudent.length - 1].id + 1;
        }
        let student = new Student(id, name, age);
        listStudent.push(student)
        localStorage.removeItem("list_student")
        localStorage.setItem("list_student", JSON.stringify(listStudent))
        showListStudent()

    }

    function findById(id) {
        for (let i = 0; i < listStudent.length; i++) {
            if (id === listStudent[i].id) {
                return listStudent[i];
            }
        }
    }

    let idUpdate = 0

    function showUpdateModal(id) {
        idUpdate = id;
        let student = findById(id);
        document.getElementById("update_name").value = student.name;
        document.getElementById("update_age").value = student.age;
    }

    function updateStudent() {
        let updateStudent = findById(idUpdate);
        let updateName = document.getElementById("update_name").value;
        let updateAge = document.getElementById("update_age").value;
        updateStudent.name = updateName;
        updateStudent.age = updateAge;
        localStorage.removeItem("list_student")
        localStorage.setItem('list_student', JSON.stringify(listStudent))
        showListStudent()
    }

    function delStudent(id) {

        let check = confirm("ban co chac chan muon xoa khong?")
        if (check) {
            for (let i = 0; i < listStudent.length; i++) {
                if (listStudent[i].id == id) {
                    listStudent.splice(i, 1)

                }
                localStorage.setItem('list_student', JSON.stringify(listStudent))

            }
            showListStudent()
        } else return showListStudent()
        for (let i = 0; i < listStudent.length; i++) {
            if (listStudent[i].id == id) {
                listStudent.splice(i, 1)

            }
            localStorage.setItem('list_student', JSON.stringify(listStudent))

        }
        showListStudent()
    }

    //     js cua modal
    var exampleModal = document.getElementById('exampleModal')
    exampleModal.addEventListener('show.bs.modal', function (event) {
        // Button that triggered the modal
        var button = event.relatedTarget
        // Extract info from data-bs-* attributes
        var recipient = button.getAttribute('data-bs-whatever')
        // If necessary, you could initiate an AJAX request here
        // and then do the updating in a callback.
        //
        // Update the modal's content.
        var modalTitle = exampleModal.querySelector('.modal-title')
        var modalBodyInput = exampleModal.querySelector('.modal-body input')

        modalTitle.textContent = 'New message to ' + recipient
        modalBodyInput.value = recipient
    })
</script>
<!-- Footer -->
<footer class="text-center text-lg-start  text-muted"
        style="background-color: aqua; background-image: url('img/footerbc.jpg')">
    <!-- Section: Social media -->
    <section class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom">
        <!-- Left -->
        <div class="me-5 d-none d-lg-block">
            <span style="color: #0c0206">liên hệ ngay vơi chúng tôi để được biết thông tin chi tiết!:</span>
        </div>
        <!-- Left -->

        <!-- Right -->
        <div>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-google"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-linkedin"></i>
            </a>
            <a href="" class="me-4 text-reset">
                <i class="fab fa-github"></i>
            </a>
        </div>
        <!-- Right -->
    </section>
    <!-- Section: Social media -->

    <!-- Section: Links  -->
    <section class="">
        <div class="container text-center text-md-start mt-5">
            <!-- Grid row -->
            <div class="row mt-3">
                <!-- Grid column -->
                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                    <!-- Content -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        <i class="fas fa-gem me-3"></i>CÔNG TY TNHH GIÁO DỤC ĐÀO TẠO VÀ TƯ VẤN DU HỌC MEIJI
                    </h6>

                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        Products
                    </h6>
                    <p>
                        <a href="#!" class="text-reset">Du Học</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Thực Tập Sinh</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Kỹ Sư</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Bảo Lãnh</a>
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">
                        Useful links
                    </h6>
                    <p>
                        <a href="#!" class="text-reset">Pricing</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Settings</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Orders</a>
                    </p>
                    <p>
                        <a href="#!" class="text-reset">Help</a>
                    </p>
                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                    <!-- Links -->
                    <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
                    <p><i class="fas fa-home me-3"></i> Hà Nội, HN 000084, VN</p>
                    <p>
                        <i class="fas fa-envelope me-3"></i>
                        thuynv102@gmail.com
                    </p>
                    <p><i class="fas fa-phone me-3"></i> + 0968 638 375</p>
                    <p><i class="fas fa-print me-3"></i> + 0968 638 375</p>
                </div>
                <!-- Grid column -->
            </div>
            <!-- Grid row -->
        </div>
    </section>
    <!-- Section: Links  -->

    <!-- Copyright -->
    <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
        © 2021 Copyright:
        <a class="text-reset fw-bold" href="https://mdbootstrap.com/">MDBootstrap.com</a>
    </div>
    <!-- Copyright -->
</footer>
<script>
    let myTable = document.getElementById("myTable");
    let name = localStorage.getItem("nameKey");
    console.log("name----", name)
    if (name != null) {
        document.querySelector("#login").innerText = "";
        document.querySelector("#register").innerText = "";
        document.querySelector("#username").innerText = name;

    } else {
        document.querySelector("#dropdown").style.display = "none";
        document.querySelector("#myTable").innerHTML = "";

    }

    function logOut() {
        localStorage.removeItem("nameKey");
        location.reload();
    }
</script>
</body>
</html>
